(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e635a84a"],{"0943":function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("Row",[o("Col",{attrs:{span:"22"}},[o("Row",{attrs:{gutter:6}},[o("Col",{attrs:{span:"3"}},[o("treeselect",{staticClass:"departDown",attrs:{options:e.dropDownList.departmentList,"default-expand-level":1,placeholder:"请选择部门"},model:{value:e.souformItem.departmentId,callback:function(t){e.$set(e.souformItem,"departmentId",t)},expression:"souformItem.departmentId"}})],1),o("Col",{attrs:{span:"2"}},[o("Select",{attrs:{placeholder:"职位",clearable:""},model:{value:e.souformItem.positionId,callback:function(t){e.$set(e.souformItem,"positionId",t)},expression:"souformItem.positionId"}},e._l(e.dropDownList.positionList,(function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),o("Col",{attrs:{span:"2"}},[o("Select",{attrs:{placeholder:"职称",clearable:""},model:{value:e.souformItem.jobLevelId,callback:function(t){e.$set(e.souformItem,"jobLevelId",t)},expression:"souformItem.jobLevelId"}},e._l(e.dropDownList.jobLevelList,(function(t){return o("Option",{key:t.id,attrs:{value:t.id}},[e._v(e._s(t.name))])})),1)],1),o("Col",{attrs:{span:"5"}},[o("Input",{attrs:{clearable:"",placeholder:"请输入姓名..."},model:{value:e.souformItem.name,callback:function(t){e.$set(e.souformItem,"name",t)},expression:"souformItem.name"}})],1),o("Col",{attrs:{span:"2"}},[o("Button",{attrs:{icon:"ios-search",long:""},on:{click:e.getEmployeeList}},[e._v("搜索")])],1),o("Col",{attrs:{span:"2"}},[o("Button",{attrs:{icon:"ios-cloud-download-outline",type:"warning",long:"",target:"_blank",to:"http://localhost:8080/hrserver/employee/empExcel"}},[e._v("导出所有档案")])],1),o("Col",{attrs:{span:"2"}},[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"100%"},attrs:{name:"emps","show-upload-list":!1,"on-success":e.importSuccess,headers:e.headers,multiple:"",action:"http://localhost:8080/hrserver/employee/import"}},[o("Button",{attrs:{icon:"ios-cloud-upload-outline",type:"warning"}},[e._v("导入所有档案")])],1)],1),o("Col",{attrs:{span:"1"}},[o("Button",{attrs:{icon:"ios-cloud-download-outline",type:"warning"},on:{click:e.downloadModel}},[e._v("下载导入模板")])],1)],1)],1),o("Col",{attrs:{span:"2"}},[o("Button",{attrs:{type:"primary"},on:{click:e.addEmpFile}},[e._v("添加档案")])],1)],1),o("br"),o("Row",[o("Table",{ref:"selection",attrs:{border:"",columns:e.columns,data:e.employees},scopedSlots:e._u([{key:"action",fn:function(t){var a=t.row,s=t.index;return[o("Button",{staticStyle:{"margin-right":"5px"},on:{click:function(t){return e.show(s)}}},[e._v("查看")]),o("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary"},on:{click:function(t){return e.beforeUpdate(s)}}},[e._v("编辑")]),o("Button",{attrs:{type:"error"},on:{click:function(t){return e.remove(a.id)}}},[e._v("删除")])]}}])})],1),o("Row",{style:{margin:"20px 0 0 0"}},[o("Row",{style:{textAlign:"center"}},[o("Page",{attrs:{total:e.total,"show-sizer":"","show-elevator":"","show-total":""},on:{"on-change":e.pageChange,"on-page-size-change":e.onPageSizeChange}})],1)],1),o("Modal",{attrs:{title:"添加员工档案",width:"55%"},on:{"on-visible-change":e.cancel},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[o("Form",{ref:"newEmployee",attrs:{model:e.newEmployee,rules:e.newEmployeeRules,"label-width":100}},[o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",[o("FormItem",{attrs:{label:"姓名：",prop:"name"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.name,callback:function(t){e.$set(e.newEmployee,"name",t)},expression:"newEmployee.name"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"性别：",prop:"sex"}},[o("RadioGroup",{model:{value:e.newEmployee.sex,callback:function(t){e.$set(e.newEmployee,"sex",t)},expression:"newEmployee.sex"}},[o("Radio",{attrs:{label:"男"}},[e._v("男")]),o("Radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"身份证号：",prop:"idCard"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.idCard,callback:function(t){e.$set(e.newEmployee,"idCard",t)},expression:"newEmployee.idCard"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"政治面貌：",prop:"politiclId"}},[o("Select",{attrs:{clearable:""},model:{value:e.newEmployee.politiclId,callback:function(t){e.$set(e.newEmployee,"politiclId",t)},expression:"newEmployee.politiclId"}},e._l(e.dropDownList.politicalStatusList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",[o("FormItem",{attrs:{label:"民族：",prop:"nationId"}},[o("Select",{attrs:{clearable:""},model:{value:e.newEmployee.nationId,callback:function(t){e.$set(e.newEmployee,"nationId",t)},expression:"newEmployee.nationId"}},e._l(e.dropDownList.nationList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"婚姻状态：",prop:"wedlock"}},[o("RadioGroup",{model:{value:e.newEmployee.wedlock,callback:function(t){e.$set(e.newEmployee,"wedlock",t)},expression:"newEmployee.wedlock"}},[o("Radio",{attrs:{label:"未婚"}},[e._v("未婚")]),o("Radio",{attrs:{label:"已婚"}},[e._v("已婚")]),o("Radio",{attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"出生日期：",prop:"birthday"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择生日"},model:{value:e.newEmployee.birthday,callback:function(t){e.$set(e.newEmployee,"birthday",t)},expression:"newEmployee.birthday"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"联系方式：",prop:"phone"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.phone,callback:function(t){e.$set(e.newEmployee,"phone",t)},expression:"newEmployee.phone"}})],1)],1)],1),o("Col",{attrs:{span:"4",offset:"2"}},[o("Row",[""==e.newEmployee.picture||null==e.newEmployee.picture?o("img",{style:{width:"128px",height:"166px"},attrs:{src:a("1195")}}):o("img",{style:{width:"128px",height:"166px"},attrs:{src:e.newEmployee.picture}})]),o("Row",[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"128px"},attrs:{name:"picture","show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-success":e.uploadNewSuccess,headers:e.headers,multiple:"",type:"drag",action:"http://localhost:8080/hrserver/employee/picture"}},[o("Button",{style:{width:"120px",border:"none"},attrs:{icon:"ios-cloud-upload-outline"}},[e._v("上传图片")])],1)],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"籍贯：",prop:"nativePlace"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.nativePlace,callback:function(t){e.$set(e.newEmployee,"nativePlace",t)},expression:"newEmployee.nativePlace"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"邮箱：",prop:"email"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.email,callback:function(t){e.$set(e.newEmployee,"email",t)},expression:"newEmployee.email"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"居住地址：",prop:"address"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.address,callback:function(t){e.$set(e.newEmployee,"address",t)},expression:"newEmployee.address"}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"学历：",prop:"titopDegree"}},[o("Select",{attrs:{clearable:""},model:{value:e.newEmployee.titopDegree,callback:function(t){e.$set(e.newEmployee,"titopDegree",t)},expression:"newEmployee.titopDegree"}},[o("Option",{attrs:{value:"小学"}},[e._v("小学")]),o("Option",{attrs:{value:"初中"}},[e._v("初中")]),o("Option",{attrs:{value:"高中"}},[e._v("高中")]),o("Option",{attrs:{value:"大专"}},[e._v("大专")]),o("Option",{attrs:{value:"本科"}},[e._v("本科")]),o("Option",{attrs:{value:"硕士"}},[e._v("硕士")]),o("Option",{attrs:{value:"博士"}},[e._v("博士")]),o("Option",{attrs:{value:"其他"}},[e._v("其他")])],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"毕业院校：",prop:"school"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.school,callback:function(t){e.$set(e.newEmployee,"school",t)},expression:"newEmployee.school"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"专业：",prop:"specialty"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.specialty,callback:function(t){e.$set(e.newEmployee,"specialty",t)},expression:"newEmployee.specialty"}})],1)],1)],1),o("Divider",{style:{margin:"0 0 24px 0"}}),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"所属部门：",prop:"departmentId"}},[o("treeselect",{attrs:{options:e.dropDownList.departmentList,"default-expand-level":1,placeholder:"请选择部门"},on:{select:e.depselect},model:{value:e.newEmployee.departmentId,callback:function(t){e.$set(e.newEmployee,"departmentId",t)},expression:"newEmployee.departmentId"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"职称：",prop:"jobLevelId"}},[o("Select",{attrs:{clearable:""},model:{value:e.newEmployee.jobLevelId,callback:function(t){e.$set(e.newEmployee,"jobLevelId",t)},expression:"newEmployee.jobLevelId"}},e._l(e.dropDownList.jobLevelList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"职位：",prop:"positionId"}},[o("Select",{attrs:{clearable:""},model:{value:e.newEmployee.positionId,callback:function(t){e.$set(e.newEmployee,"positionId",t)},expression:"newEmployee.positionId"}},e._l(e.dropDownList.positionList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"就职日期：",prop:"beginDate"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择就职日期",format:"yyyy-MM-dd"},model:{value:e.newEmployee.beginDate,callback:function(t){e.$set(e.newEmployee,"beginDate",t)},expression:"newEmployee.beginDate"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"就职状态：",prop:"workState"}},[o("RadioGroup",{model:{value:e.newEmployee.workState,callback:function(t){e.$set(e.newEmployee,"workState",t)},expression:"newEmployee.workState"}},[o("Radio",{attrs:{label:"在职"}},[e._v("在职")]),o("Radio",{attrs:{label:"离职"}},[e._v("离职")])],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"转正日期：",prop:"conversionTime"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择转正日期",format:"yyyy-MM-dd"},model:{value:e.newEmployee.conversionTime,callback:function(t){e.$set(e.newEmployee,"conversionTime",t)},expression:"newEmployee.conversionTime"}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"基本工资：",prop:"baseSalary"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.newEmployee.baseSalary,callback:function(t){e.$set(e.newEmployee,"baseSalary",t)},expression:"newEmployee.baseSalary"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"合同起始日期：",prop:"beginContract"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择合同起始日期",format:"yyyy-MM-dd"},model:{value:e.newEmployee.beginContract,callback:function(t){e.$set(e.newEmployee,"beginContract",t)},expression:"newEmployee.beginContract"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"合同结束日期：",prop:"endContract"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择合同结束日期",format:"yyyy-MM-dd"},model:{value:e.newEmployee.endContract,callback:function(t){e.$set(e.newEmployee,"endContract",t)},expression:"newEmployee.endContract"}})],1)],1)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:function(t){return e.handleReset("newEmployee")}}},[e._v("重置")]),o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.addEmployee("newEmployee")}}},[e._v("保存")])],1)],1),o("Modal",{attrs:{title:"编辑员工档案",width:"55%"},on:{"on-visible-change":e.cancel},model:{value:e.updateModal,callback:function(t){e.updateModal=t},expression:"updateModal"}},[o("Form",{ref:"employee",attrs:{model:e.employee,rules:e.newEmployeeRules,"label-width":100}},[o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",[o("FormItem",{attrs:{label:"姓名：",prop:"name"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.name,callback:function(t){e.$set(e.employee,"name",t)},expression:"employee.name"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"性别：",prop:"sex"}},[o("RadioGroup",{model:{value:e.employee.sex,callback:function(t){e.$set(e.employee,"sex",t)},expression:"employee.sex"}},[o("Radio",{attrs:{label:"男"}},[e._v("男")]),o("Radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"身份证号：",prop:"idCard"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.idCard,callback:function(t){e.$set(e.employee,"idCard",t)},expression:"employee.idCard"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"政治面貌：",prop:"politiclId"}},[o("Select",{model:{value:e.employee.politiclId,callback:function(t){e.$set(e.employee,"politiclId",t)},expression:"employee.politiclId"}},e._l(e.dropDownList.politicalStatusList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",[o("FormItem",{attrs:{label:"民族：",prop:"nationId"}},[o("Select",{attrs:{clearable:""},model:{value:e.employee.nationId,callback:function(t){e.$set(e.employee,"nationId",t)},expression:"employee.nationId"}},e._l(e.dropDownList.nationList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"婚姻状态：",prop:"wedlock"}},[o("RadioGroup",{model:{value:e.employee.wedlock,callback:function(t){e.$set(e.employee,"wedlock",t)},expression:"employee.wedlock"}},[o("Radio",{attrs:{label:"未婚"}},[e._v("未婚")]),o("Radio",{attrs:{label:"已婚"}},[e._v("已婚")]),o("Radio",{attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"出生日期：",prop:"birthday"}},[o("DatePicker",{attrs:{type:"date",placeholder:"选择出生日期"},model:{value:e.employee.birthday,callback:function(t){e.$set(e.employee,"birthday",t)},expression:"employee.birthday"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"联系方式：",prop:"phone"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.phone,callback:function(t){e.$set(e.employee,"phone",t)},expression:"employee.phone"}})],1)],1)],1),o("Col",{attrs:{span:"4",offset:"2"}},[o("Row",[""==e.employee.picture||null==e.employee.picture?o("img",{style:{width:"128px",height:"166px"},attrs:{src:a("1195")}}):o("img",{style:{width:"128px",height:"166px"},attrs:{src:e.employee.picture}})]),o("Row",[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"128px"},attrs:{name:"picture","show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-success":e.uploadSuccess,headers:e.headers,multiple:"",type:"drag",action:"http://localhost:8080/hrserver/employee/picture"}},[o("Button",{style:{width:"120px",border:"none"},attrs:{icon:"ios-cloud-upload-outline"}},[e._v("上传图片")])],1)],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"籍贯：",prop:"nativePlace"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.nativePlace,callback:function(t){e.$set(e.employee,"nativePlace",t)},expression:"employee.nativePlace"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"邮箱：",prop:"email"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.email,callback:function(t){e.$set(e.employee,"email",t)},expression:"employee.email"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"居住地址：",prop:"address"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.address,callback:function(t){e.$set(e.employee,"address",t)},expression:"employee.address"}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"学历：",prop:"titopDegree"}},[o("Select",{model:{value:e.employee.titopDegree,callback:function(t){e.$set(e.employee,"titopDegree",t)},expression:"employee.titopDegree"}},[o("Option",{attrs:{value:"小学"}},[e._v("小学")]),o("Option",{attrs:{value:"初中"}},[e._v("初中")]),o("Option",{attrs:{value:"高中"}},[e._v("高中")]),o("Option",{attrs:{value:"大专"}},[e._v("大专")]),o("Option",{attrs:{value:"本科"}},[e._v("本科")]),o("Option",{attrs:{value:"硕士"}},[e._v("硕士")]),o("Option",{attrs:{value:"博士"}},[e._v("博士")]),o("Option",{attrs:{value:"其他"}},[e._v("其他")])],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"毕业院校：",prop:"school"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.school,callback:function(t){e.$set(e.employee,"school",t)},expression:"employee.school"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"专业：",prop:"specialty"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.specialty,callback:function(t){e.$set(e.employee,"specialty",t)},expression:"employee.specialty"}})],1)],1)],1),o("Divider",{style:{margin:"0 0 24px 0"}}),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"所属部门：",prop:"departmentId"}},[o("treeselect",{attrs:{options:e.dropDownList.departmentList,"default-expand-level":1,placeholder:"请选择部门"},model:{value:e.employee.departmentId,callback:function(t){e.$set(e.employee,"departmentId",t)},expression:"employee.departmentId"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"职称：",prop:"jobLevelId"}},[o("Select",{model:{value:e.employee.jobLevelId,callback:function(t){e.$set(e.employee,"jobLevelId",t)},expression:"employee.jobLevelId"}},e._l(e.dropDownList.jobLevelList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"职位：",prop:"positionId"}},[o("Select",{model:{value:e.employee.positionId,callback:function(t){e.$set(e.employee,"positionId",t)},expression:"employee.positionId"}},e._l(e.dropDownList.positionList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"就职日期：",prop:"beginDate"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择就职日期"},model:{value:e.employee.beginDate,callback:function(t){e.$set(e.employee,"beginDate",t)},expression:"employee.beginDate"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"就职状态：",prop:"workState"}},[o("RadioGroup",{model:{value:e.employee.workState,callback:function(t){e.$set(e.employee,"workState",t)},expression:"employee.workState"}},[o("Radio",{attrs:{label:"在职"}},[e._v("在职")]),o("Radio",{attrs:{label:"离职"}},[e._v("离职")])],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"转正日期：",prop:"conversionTime"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择转正日期"},model:{value:e.employee.conversionTime,callback:function(t){e.$set(e.employee,"conversionTime",t)},expression:"employee.conversionTime"}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"基本工资：",prop:"baseSalary"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.employee.baseSalary,callback:function(t){e.$set(e.employee,"baseSalary",t)},expression:"employee.baseSalary"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"合同起始日期：",prop:"beginContract"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择合同起始日期",format:"yyyy-MM-dd"},model:{value:e.employee.beginContract,callback:function(t){e.$set(e.employee,"beginContract",t)},expression:"employee.beginContract"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"合同结束日期：",prop:"endContract"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择合同结束日期",format:"yyyy-MM-dd"},model:{value:e.employee.endContract,callback:function(t){e.$set(e.employee,"endContract",t)},expression:"employee.endContract"}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"离职日期：",prop:"quitTime"}},[o("DatePicker",{attrs:{type:"date",placeholder:"请选择离职日期",format:"yyyy-MM-dd"},model:{value:e.employee.quitTime,callback:function(t){e.$set(e.employee,"quitTime",t)},expression:"employee.quitTime"}})],1)],1)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:function(t){return e.handleReset("employee")}}},[e._v("重置")]),o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.update("employee")}}},[e._v("保存")])],1)],1),e.showModal?o("div",[o("Modal",{attrs:{title:"员工档案详情",width:"40%"},on:{"on-visible-change":e.cancel},model:{value:e.showModal,callback:function(t){e.showModal=t},expression:"showModal"}},[o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("姓名：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].name))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("性别：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].sex))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("身份证号码：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].idCard))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("政治面貌：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].politiclName))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("籍贯：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].nativePlace))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("工号：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].workId))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("民族：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].nationName))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("婚姻状态：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].wedlock))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("出生日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].birthday))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("联系方式：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].phone))])])],1)],1),o("Col",{attrs:{span:"5"}},[o("img",{style:{width:"120px",height:"150px",margin:"0 0 0 20px"},attrs:{src:e.employees[e.index].picture}})])],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("邮箱：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].email))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("居住地址：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].address))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("学历：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].titopDegree))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("毕业院校：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].school))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("专业：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].specialty))])])],1)],1)],1),o("Divider",{style:{margin:"0 0 24px 0"}}),o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("所属部门：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].departmentName))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("职位：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].positionName))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("职称：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].jobLevelName))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("就职日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].beginDate))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("在职状态：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].workState))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("转正日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].conversionTime))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("是否正式员工：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(null==e.employees[e.index].conversionTime?"实习":"正式"))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("合同起始日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].beginContract))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("合同结束日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].endContract))])])],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("离职日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.employees[e.index].quitTime))])])],1)],1)],1),o("Row",[o("Tabs",{attrs:{type:"card"}},[o("TabPane",{attrs:{label:"奖惩资料"}},[o("Table",{attrs:{columns:e.rewPunColumns,data:e.empRpLists}}),o("Row",{style:{margin:"10px 0 0 0"},attrs:{type:"flex",justify:"center"}},[o("Col",[o("Page",{attrs:{total:e.rpTotal,"page-size":e.rpPageSize,"show-elevator":"","show-total":""},on:{"on-change":e.rpPageChange,"on-page-size-change":e.onRpPageSizeChange}})],1)],1)],1),o("TabPane",{attrs:{label:"考核资料"}},[o("Table",{ref:"selection",attrs:{border:"",columns:e.departAssColumns,data:e.departAssLists},scopedSlots:e._u([{key:"commit",fn:function(t){var a=t.row;return[a.commit?o("p",[e._v("已提交")]):o("p",[e._v("未提交")])]}}],null,!1,2417766381)}),o("Row",{style:{margin:"10px 0 0 0"},attrs:{type:"flex",justify:"center"}},[o("Page",{attrs:{total:e.departAssTotal,"page-size":e.departAssPageSize,"show-elevator":"","show-total":""},on:{"on-change":e.departAssPageChange}})],1)],1)],1)],1)],1)],1):e._e()],1)},s=[],p=(a("7f7f"),a("ca17")),r=a.n(p),l=(a("542c"),a("c1df")),i=a.n(l),n={components:{Treeselect:r.a},name:"PerEmp",data:function(){return{headers:{token:this.$store.state.token,sessionId:this.$store.state.sessionId},addModal:!1,updateModal:!1,showModal:!1,page:1,total:100,limit:10,rpPage:1,rpTotal:100,rpLimit:3,rpPageSize:3,departAssPage:1,departAssTotal:100,departAssLimit:3,departAssPageSize:3,loading:!1,index:null,empRpLists:[],dropDownList:[],departAssLists:[],department:{id:null,name:"",parentId:null},employee:{id:"",workId:"",name:"",sex:"",nationId:"",nationName:"",birthday:"",politiclId:"",politiclName:"",picture:"",wedlock:"",nativePlace:"",idCard:"",email:"",phone:"",address:"",departmentId:"",departmentName:"",positionId:"",positionName:"",jobLevelId:"",jobLevelName:"",titopDegree:"",specialty:"",school:"",beginDate:"",workState:"",conversionTime:"",quitTime:"",beginContract:"",endContract:"",baseSalary:""},employees:[],formatDate:{birthday:"",beginDate:"",conversionTime:"",beginContract:"",endContract:"",quitTime:""},newEmployee:{name:"",nationId:"",sex:"",wedlock:"",idCard:"",birthday:"",politiclId:"",phone:"",nativePlace:"",email:"",address:"",departmentId:null,jobLevelId:"",positionId:"",titopDegree:"",school:"",specialty:"",beginDate:"",workState:"",conversionTime:"",baseSalary:"",picture:"",beginContract:"",endContract:"",quitTime:"",workId:""},newEmployeeRules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],idCard:[{required:!0,message:"身份证不能为空",trigger:"blur"},{type:"string",min:16,message:"身份证不能少于16位"},{type:"string",max:18,message:"身份证不能大于18位"}],politiclId:[{required:!0,type:"number",message:"请选择政治面貌",trigger:"change"}],wedlock:[{required:!0,message:"请选择婚姻状态",trigger:"change"}],nationId:[{required:!0,type:"number",message:"请选择民族",trigger:"change"}],birthday:[{required:!0,type:"date",message:"请选择出生日期",trigger:"change"}],phone:[{required:!0,message:"联系方式不能为空",trigger:"blur"}],departmentId:[{required:!0,type:"number",message:"请选择所属部门",trigger:"change"}],jobLevelId:[{required:!0,type:"number",message:"请选择职称",trigger:"change"}],positionId:[{required:!0,type:"number",message:"请选择职位",trigger:"change"}],titopDegree:[{required:!0,message:"请选择学历",trigger:"change"}],school:[{required:!0,message:"毕业院校不能为空",trigger:"blur"}],specialty:[{required:!0,message:"专业不能为空",trigger:"blur"}],beginDate:[{required:!0,type:"date",message:"请选择就职日期",trigger:"change"}],workState:[{required:!0,message:"请选择就职状态",trigger:"change"}],beginContract:[{required:!0,type:"date",message:"请选择合同起始日期",trigger:"change"}],endContract:[{required:!0,type:"date",message:"请选择合同结束日期",trigger:"change"}],baseSalary:[{required:!0,message:"基本工资不能为空",trigger:"blur"},{message:"基本工资只能用数字",pattern:/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/}],workId:[{required:!0,validator:this.validExit,trigger:"blur"},{message:"工号只能用纯数字",pattern:/^[0-9]*$/}]},pictureItem:{name:"",url:""},souformItem:{departmentId:null,positionId:null,jobLevelId:null,name:""},formItem:{name:"",nationID:"",gender:"",politicID:"",nativePlace:"",birthday:"",idCard:"",wedlock:"",phone:"",email:"",adress:"",departmentID:"",jobLevelID:"",posID:"",titopDegree:"",school:"",specialty:"",beginDate:"",workState:"",conversionTime:""},columns:[{type:"selection",width:60,align:"center"},{title:"姓名",key:"name",width:90},{title:"工号",key:"workId"},{title:"部门",key:"departmentName",width:90},{title:"职位",key:"positionName",width:90},{title:"职称",key:"jobLevelName",width:110},{title:"性别",key:"sex",width:65},{title:"出生日期",key:"birthday"},{title:"籍贯",key:"nativePlace"},{title:"联系方式",key:"phone"},{title:"电子邮箱",key:"email"},{title:"操作",slot:"action",width:230,align:"center"}],rewPunColumns:[{title:"奖惩日期",key:"date"},{title:"奖惩类型",key:"type"},{title:"奖惩分数",key:"point"},{title:"奖惩原因",key:"reason"},{title:"备注",key:"remark"}],departAssColumns:[{title:"考核名称",key:"name"},{title:"状态",key:"state"},{title:"是否提交",slot:"commit"},{title:"备注",key:"remarks"}],assColumns:[{title:"考核日期",key:"date"},{title:"考核内容",key:"content"},{title:"考核结果",key:"result"},{title:"备注",key:"remark"}],assData:[{date:"2019年10月21日",content:"2019年第一季度考核",result:"完成",remark:"完成"}],transferColumns:[{title:"调动日期",key:"date"},{title:"调前部门",key:"beforeDepar"},{title:"调前职位",key:"beforePos"},{title:"调动原因",key:"reason"},{title:"调后部门",key:"afterDepar"},{title:"调后职位",key:"afterPos"},{title:"备注",key:"remark"}],transferdata:[{date:"2019年10月21日",beforeDepar:"财务部",beforePos:"财务经理",reason:"工作需要",afterDepar:"技术部",afterPos:"项目经理",remark:"项目需要"}]}},methods:{onPageSizeChange:function(e){this.limit=e},pageChange:function(e){this.page=e},departAssPageChange:function(e){this.departAssPage=e},onRpPageSizeChange:function(e){this.rpLimit=e},rpPageChange:function(e){this.rpPage=e},getDropDownList:function(){var e=this;this.getRequest("/employee/init").then((function(t){e.dropDownList=t.data.data}))},getEmployeeList:function(){var e=this;this.getRequest("/employee/allEmp",{page:this.page,limit:this.limit,departmentId:this.souformItem.departmentId,jobLevelId:this.souformItem.jobLevelId,positionId:this.souformItem.positionId,name:this.souformItem.name}).then((function(t){e.employees=t.data.data.list,e.total=t.data.data.total}))},getEmpRp:function(e){var t=this;this.getRequest("/rp/empRp/"+this.employees[e].id,{page:this.rpPage,limit:this.rpLimit}).then((function(e){t.empRpLists=e.data.data.list,t.rpTotal=e.data.data.total}))},getDepartAss:function(e){var t=this;this.getRequest("/assessment/empAllAssessment/"+this.employees[e].id,{limit:this.departAssLimit,page:this.departAssPage}).then((function(e){t.departAssLists=e.data.data.list,t.departAssTotal=e.data.data.total}))},handleReset:function(e){this.$refs[e].resetFields()},addEmployee:function(e){var t=this;""!=this.newEmployee.birthday&&(this.formatDate.birthday=i()(this.newEmployee.birthday).format("YYYY-MM-DD")),""!=this.newEmployee.beginDate&&(this.formatDate.beginDate=i()(this.newEmployee.beginDate).format("YYYY-MM-DD")),""!=this.newEmployee.conversionTime&&(this.formatDate.conversionTime=i()(this.newEmployee.conversionTime).format("YYYY-MM-DD")),""!=this.newEmployee.beginContract&&(this.formatDate.beginContract=i()(this.newEmployee.beginContract).format("YYYY-MM-DD")),""!=this.newEmployee.endContract&&(this.formatDate.endContract=i()(this.newEmployee.endContract).format("YYYY-MM-DD")),""!=this.newEmployee.quitTime&&(this.formatDate.quitTime=i()(this.newEmployee.quitTime).format("YYYY-MM-DD")),this.$refs[e].validate((function(e){e?t.postRequest("/employee/addEmp",{name:t.newEmployee.name,nationId:t.newEmployee.nationId,sex:t.newEmployee.sex,wedlock:t.newEmployee.wedlock,idCard:t.newEmployee.idCard,birthday:t.formatDate.birthday,politiclId:t.newEmployee.politiclId,phone:t.newEmployee.phone,nativePlace:t.newEmployee.nativePlace,email:t.newEmployee.email,address:t.newEmployee.address,departmentId:t.newEmployee.departmentId,jobLevelId:t.newEmployee.jobLevelId,positionId:t.newEmployee.positionId,titopDegree:t.newEmployee.titopDegree,school:t.newEmployee.school,specialty:t.newEmployee.specialty,beginDate:t.formatDate.beginDate,workState:t.newEmployee.workState,conversionTime:t.formatDate.conversionTime,quitTime:t.formatDate.quitTime,beginContract:t.formatDate.beginContract,endContract:t.formatDate.endContract,baseSalary:t.newEmployee.baseSalary,picture:t.newEmployee.picture}).then((function(e){400!=e.data.code?(t.$Message.success(e.data.data),t.addModal=!1,t.getEmployeeList(),t.$refs.upload.clearFiles()):t.$Message.error(e.data.message)})):t.$Message.error("必填项不能为空")}))},beforeUpdate:function(e){var t=this;this.getRequest("/modifyEmpFile",null).then((function(a){403!=a.data.code&&(t.updateModal=!0,t.employee.id=t.employees[e].id,t.employee.workId=""+t.employees[e].workId,t.employee.name=t.employees[e].name,t.employee.sex=t.employees[e].sex,t.employee.nationId=t.employees[e].nationId,t.employee.nationName=t.employees[e].nationName,t.employee.birthday=t.employees[e].birthday,t.employee.politiclId=t.employees[e].politiclId,t.employee.politiclName=t.employees[e].politiclName,t.employee.wedlock=t.employees[e].wedlock,t.employee.nativePlace=t.employees[e].nativePlace,t.employee.idCard=t.employees[e].idCard,t.employee.email=t.employees[e].email,t.employee.phone=t.employees[e].phone,t.employee.address=t.employees[e].address,t.employee.departmentId=t.employees[e].departmentId,t.employee.departmentName=t.employees[e].departmentName,t.employee.positionId=t.employees[e].positionId,t.employee.positionName=t.employees[e].positionName,t.employee.jobLevelId=t.employees[e].jobLevelId,t.employee.jobLevelName=t.employees[e].jobLevelName,t.employee.titopDegree=t.employees[e].titopDegree,t.employee.specialty=t.employees[e].specialty,t.employee.school=t.employees[e].school,t.employee.beginDate=t.employees[e].beginDate,t.employee.workState=t.employees[e].workState,t.employee.conversionTime=t.employees[e].conversionTime,t.employee.quitTime=t.employees[e].quitTime,t.employee.beginContract=t.employees[e].beginContract,t.employee.endContract=t.employees[e].endContract,t.employee.baseSalary=""+t.employees[e].baseSalary,t.employee.picture=t.employees[e].picture)}))},update:function(e){var t=this;""!=this.employee.birthday&&(console.log(this.employee.birthday),this.formatDate.birthday=i()(this.employee.birthday).format("YYYY-MM-DD"),console.log(this.formatDate.birthday)),""!=this.employee.beginDate&&(this.formatDate.beginDate=i()(this.employee.beginDate).format("YYYY-MM-DD")),""!=this.employee.conversionTime&&(this.formatDate.conversionTime=i()(this.employee.conversionTime).format("YYYY-MM-DD")),""!=this.employee.beginContract&&(this.formatDate.beginContract=i()(this.employee.beginContract).format("YYYY-MM-DD")),""!=this.employee.endContract&&(this.formatDate.endContract=i()(this.employee.endContract).format("YYYY-MM-DD")),""!=this.employee.quitTime&&(this.formatDate.quitTime=i()(this.employee.quitTime).format("YYYY-MM-DD")),this.$refs[e].validate((function(a){a?t.putRequest("/employee/updateEmp",{id:t.employee.id,name:t.employee.name,nationId:t.employee.nationId,sex:t.employee.sex,wedlock:t.employee.wedlock,idCard:t.employee.idCard,birthday:t.formatDate.birthday,politiclId:t.employee.politiclId,phone:t.employee.phone,nativePlace:t.employee.nativePlace,email:t.employee.email,address:t.employee.address,departmentId:t.employee.departmentId,jobLevelId:t.employee.jobLevelId,positionId:t.employee.positionId,titopDegree:t.employee.titopDegree,school:t.employee.school,specialty:t.employee.specialty,beginDate:t.formatDate.beginDate,workState:t.employee.workState,conversionTime:t.formatDate.conversionTime,quitTime:t.formatDate.quitTime,beginContract:t.formatDate.beginContract,endContract:t.formatDate.endContract,baseSalary:t.employee.baseSalary,picture:t.employee.picture}).then((function(a){400!=a.data.code?(t.$Message.success(a.data.data),t.updateModal=!1,t.getEmployeeList(),t.$refs[e].resetFields(),t.$refs.upload.clearFiles(),t.formatDate.birthday="",t.formatDate.beginDate="",t.formatDate.conversionTime="",t.formatDate.beginContract="",t.formatDate.endContract="",t.formatDate.quitTime=""):t.$Message.error(a.data.message)})):t.$Message.error("必填项不能为空")}))},remove:function(e){var t=this;this.getRequest("/deleteEmpFile",null).then((function(a){403!=a.data.code&&t.$Modal.confirm({title:"你正在进行删除操作",content:"<p>你确定要删除该员工档案吗?</p>",onOk:function(){console.log(e);var a=t;t.deleteRequest("/employee/deleteEmp/"+e).then((function(e){400!=e.data.code?(t.$Message.success(e.data.data),t.spinShow=!1,a.getEmployeeList()):t.$Message.error(e.data.message)}))}})}))},show:function(e){var t=this;this.getRequest("/viewEmpFile",null).then((function(a){403!=a.data.code&&(t.showModal=!0,t.index=e,t.getEmpRp(e),t.getDepartAss(e))}))},cancel:function(e){0==e&&(this.$refs["newEmployee"].resetFields(),this.$refs["employee"].resetFields(),this.rpPage=1,this.departAssPage=1)},uploadNewSuccess:function(e,t){this.newEmployee.picture=e.data},uploadSuccess:function(e,t){this.employee.picture=e.data},depselect:function(e,t){console.log(e),console.log(t)},validExit:function(e,t,a){if(null==t||""==t)return a(new Error("工号不能为空"));this.getRequest("/employee/checkworkid",{workId:t}).then((function(e){if(400==e.data.code)return a(new Error(e.data.message));a()}))},addEmpFile:function(){var e=this;this.getRequest("/addEmpFile",null).then((function(t){403!=t.data.code&&(e.addModal=!0)}))},importSuccess:function(){this.getEmployeeList()},downloadModel:function(){window.open("./employee.xls")}},mounted:function(){this.getEmployeeList(),this.getDropDownList()},watch:{page:"getEmployeeList",limit:"getEmployeeList",rpPage:"getEmpRp",departAssPage:"getDepartAss"}},m=n,d=(a("cc4b"),a("2877")),c=Object(d["a"])(m,o,s,!1,null,null,null);t["default"]=c.exports},1195:function(e,t,a){e.exports=a.p+"img/avatar.5d39929e.png"},"2a59":function(e,t,a){var o={"./Employee.vue":"0943","./PersonalFile.vue":"3415"};function s(e){var t=p(e);return a(t)}function p(e){if(!a.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=p,e.exports=s,s.id="2a59"},3415:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[null==this.$store.state.user.eid?o("div",[o("h1",[e._v("你登录的是系统测试用户")])]):o("div",[o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("姓名：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.name))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("性别：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.sex))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("身份证号码：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.idCard))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("政治面貌：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.politiclName))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("籍贯：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.nativePlace))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("工号：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.workId))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("民族：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.nationName))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("婚姻状态：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.wedlock))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("出生日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.birthday))])])],1),o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("联系方式：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.phone))])])],1)],1),o("Col",{attrs:{span:"2"}},[""==e.perEmpList.picture||null==e.perEmpList.picture?o("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:a("1195")}}):o("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:e.perEmpList.picture}})])],1),o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("邮箱：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.email))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("居住地址：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.address))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("学历：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.titopDegree))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("毕业院校：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.school))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("专业：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.specialty))])])],1)],1)],1),o("Divider",{style:{margin:"0 0 24px 0"}}),o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("所属部门：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.departmentName))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("职位：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.positionName))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("职称：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.jobLevelName))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("就职日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.beginDate))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("在职状态：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.workState))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("转正日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.conversionTime))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("是否正式员工：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(null==e.perEmpList.conversionTime?"实习":"正式"))])])],1)],1)],1),o("Row",[o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("合同起始日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.beginContract))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("合同结束日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.endContract))])])],1)],1),o("Col",{attrs:{span:"4"}},[o("Row",{style:{margin:"0 0 15px 0"}},[o("Col",{attrs:{span:"9"}},[o("p",[e._v("离职日期：")])]),o("Col",{attrs:{span:"11"}},[o("p",[e._v(e._s(e.perEmpList.quitTime))])])],1)],1)],1),o("Row",{attrs:{gutter:16}},[o("Col",{attrs:{span:"1"}},[o("Button",{attrs:{type:"primary"},on:{click:e.beforeUpdate}},[e._v("修改资料")])],1),o("Col",{attrs:{span:"2"}},[o("Button",{attrs:{type:"primary"},on:{click:function(t){e.passwordModal=!0}}},[e._v("修改密码")])],1)],1),o("br"),o("Row",[o("Tabs",{attrs:{type:"card"}},[o("TabPane",{attrs:{label:"奖惩资料"}},[o("Table",{attrs:{columns:e.rewPunColumns,data:e.empRpLists}}),o("Row",{style:{margin:"10px 0 0 0"},attrs:{type:"flex",justify:"center"}},[o("Col",[o("Page",{attrs:{total:e.rpTotal,"page-size":e.rpPageSize,"show-elevator":"","show-total":""},on:{"on-change":e.rpPageChange,"on-page-size-change":e.onRpPageSizeChange}})],1)],1)],1),o("TabPane",{attrs:{label:"考核资料"}},[o("Table",{ref:"selection",attrs:{border:"",columns:e.departAssColumns,data:e.departAssLists},scopedSlots:e._u([{key:"commit",fn:function(t){var a=t.row;return[a.commit?o("p",[e._v("已提交")]):o("p",[e._v("未提交")])]}}])}),o("Row",{style:{margin:"10px 0 0 0"},attrs:{type:"flex",justify:"center"}},[o("Page",{attrs:{total:e.departAssTotal,"page-size":e.departAssPageSize,"show-elevator":"","show-total":""},on:{"on-change":e.departAssPageChange}})],1)],1)],1)],1)],1),o("Modal",{attrs:{title:"编辑员工档案",width:"55%"},model:{value:e.updateModal,callback:function(t){e.updateModal=t},expression:"updateModal"}},[o("Form",{ref:"perEmpUpdateList",attrs:{model:e.perEmpUpdateList,rules:e.newEmployeeRules,"label-width":100}},[o("Row",[o("Col",{attrs:{span:"8"}},[o("Row",[o("FormItem",{attrs:{label:"姓名：",prop:"name"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.name,callback:function(t){e.$set(e.perEmpUpdateList,"name",t)},expression:"perEmpUpdateList.name"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"性别：",prop:"sex"}},[o("RadioGroup",{model:{value:e.perEmpUpdateList.sex,callback:function(t){e.$set(e.perEmpUpdateList,"sex",t)},expression:"perEmpUpdateList.sex"}},[o("Radio",{attrs:{label:"男"}},[e._v("男")]),o("Radio",{attrs:{label:"女"}},[e._v("女")])],1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"身份证号：",prop:"idCard"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.idCard,callback:function(t){e.$set(e.perEmpUpdateList,"idCard",t)},expression:"perEmpUpdateList.idCard"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"政治面貌：",prop:"politiclId"}},[o("Select",{model:{value:e.perEmpUpdateList.politiclId,callback:function(t){e.$set(e.perEmpUpdateList,"politiclId",t)},expression:"perEmpUpdateList.politiclId"}},e._l(e.dropDownList.politicalStatusList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("Row",[o("FormItem",{attrs:{label:"民族：",prop:"nationId"}},[o("Select",{attrs:{clearable:""},model:{value:e.perEmpUpdateList.nationId,callback:function(t){e.$set(e.perEmpUpdateList,"nationId",t)},expression:"perEmpUpdateList.nationId"}},e._l(e.dropDownList.nationList,(function(e){return o("Option",{key:e.id,attrs:{value:e.id,label:e.name}})})),1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"婚姻状态：",prop:"wedlock"}},[o("RadioGroup",{model:{value:e.perEmpUpdateList.wedlock,callback:function(t){e.$set(e.perEmpUpdateList,"wedlock",t)},expression:"perEmpUpdateList.wedlock"}},[o("Radio",{attrs:{label:"未婚"}},[e._v("未婚")]),o("Radio",{attrs:{label:"已婚"}},[e._v("已婚")]),o("Radio",{attrs:{label:"离异"}},[e._v("离异")])],1)],1)],1),o("Row",[o("FormItem",{attrs:{label:"出生日期：",prop:"birthday"}},[o("DatePicker",{attrs:{type:"date",placeholder:"选择出生日期"},model:{value:e.perEmpUpdateList.birthday,callback:function(t){e.$set(e.perEmpUpdateList,"birthday",t)},expression:"perEmpUpdateList.birthday"}})],1)],1),o("Row",[o("FormItem",{attrs:{label:"联系方式：",prop:"phone"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.phone,callback:function(t){e.$set(e.perEmpUpdateList,"phone",t)},expression:"perEmpUpdateList.phone"}})],1)],1)],1),o("Col",{attrs:{span:"4",offset:"2"}},[o("Row",[""==e.perEmpUpdateList.picture||null==e.perEmpUpdateList.picture?o("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:a("1195")}}):o("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:e.perEmpUpdateList.picture}})]),o("Row",[o("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"128px"},attrs:{name:"picture","show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-success":e.uploadSuccess,headers:e.headers,multiple:"",type:"drag",action:"http://localhost:8080/hrserver/employee/picture"}},[o("Button",{style:{width:"120px",border:"none"},attrs:{icon:"ios-cloud-upload-outline"}},[e._v("上传图片")])],1)],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"籍贯：",prop:"nativePlace"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.nativePlace,callback:function(t){e.$set(e.perEmpUpdateList,"nativePlace",t)},expression:"perEmpUpdateList.nativePlace"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"邮箱：",prop:"email"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.email,callback:function(t){e.$set(e.perEmpUpdateList,"email",t)},expression:"perEmpUpdateList.email"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"居住地址：",prop:"address"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.address,callback:function(t){e.$set(e.perEmpUpdateList,"address",t)},expression:"perEmpUpdateList.address"}})],1)],1)],1),o("Row",[o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"学历：",prop:"titopDegree"}},[o("Select",{model:{value:e.perEmpUpdateList.titopDegree,callback:function(t){e.$set(e.perEmpUpdateList,"titopDegree",t)},expression:"perEmpUpdateList.titopDegree"}},[o("Option",{attrs:{value:"小学"}},[e._v("小学")]),o("Option",{attrs:{value:"初中"}},[e._v("初中")]),o("Option",{attrs:{value:"高中"}},[e._v("高中")]),o("Option",{attrs:{value:"大专"}},[e._v("大专")]),o("Option",{attrs:{value:"本科"}},[e._v("本科")]),o("Option",{attrs:{value:"硕士"}},[e._v("硕士")]),o("Option",{attrs:{value:"博士"}},[e._v("博士")]),o("Option",{attrs:{value:"其他"}},[e._v("其他")])],1)],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"毕业院校：",prop:"school"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.school,callback:function(t){e.$set(e.perEmpUpdateList,"school",t)},expression:"perEmpUpdateList.school"}})],1)],1),o("Col",{attrs:{span:"8"}},[o("FormItem",{attrs:{label:"专业：",prop:"specialty"}},[o("Input",{attrs:{placeholder:"请输入"},model:{value:e.perEmpUpdateList.specialty,callback:function(t){e.$set(e.perEmpUpdateList,"specialty",t)},expression:"perEmpUpdateList.specialty"}})],1)],1)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.update("perEmpUpdateList")}}},[e._v("保存")])],1)],1),o("Modal",{attrs:{title:"修改密码"},on:{"on-visible-change":e.cancel},model:{value:e.passwordModal,callback:function(t){e.passwordModal=t},expression:"passwordModal"}},[o("Row",[o("Col",{attrs:{span:"22"}},[o("Form",{ref:"password",attrs:{model:e.password,rules:e.passwordRules,"label-width":80}},[o("FormItem",{attrs:{label:"旧密码:",prop:"oldpassword"}},[o("Input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.password.oldpassword,callback:function(t){e.$set(e.password,"oldpassword",t)},expression:"password.oldpassword"}})],1),o("FormItem",{attrs:{label:"新密码:",prop:"newpassword"}},[o("Input",{attrs:{type:"password",placeholder:"新密码"},model:{value:e.password.newpassword,callback:function(t){e.$set(e.password,"newpassword",t)},expression:"password.newpassword"}})],1),o("FormItem",{attrs:{label:"重复密码:",prop:"strPassword"}},[o("Input",{attrs:{type:"password",placeholder:"确认新密码"},model:{value:e.password.strPassword,callback:function(t){e.$set(e.password,"strPassword",t)},expression:"password.strPassword"}})],1)],1)],1)],1),o("div",{attrs:{slot:"footer"},slot:"footer"},[o("Button",{on:{click:function(t){e.openResetPsw=!1}}},[e._v("取消")]),o("Button",{attrs:{type:"primary"},on:{click:function(t){return e.resetPsw("password")}}},[e._v("保存")])],1)],1)],1)},s=[],p=(a("7f7f"),a("c1df")),r=a.n(p),l={name:"PerEmp",data:function(){return{headers:{token:this.$store.state.token,sessionId:this.$store.state.sessionId},updateModal:!1,passwordModal:!1,rpPage:1,rpTotal:100,rpLimit:4,rpPageSize:5,departAssPage:1,departAssTotal:100,departAssLimit:5,departAssPageSize:5,birthday:"",dropDownList:[],rpByIdLists:[],departAssLists:[],perEmpList:{},perEmpUpdateList:{id:"",workId:"",name:"",sex:"",nationId:"",nationName:"",birthday:"",politiclId:"",politiclName:"",picture:"",wedlock:"",nativePlace:"",idCard:"",email:"",phone:"",address:"",departmentId:"",departmentName:"",positionId:"",positionName:"",jobLevelId:"",jobLevelName:"",titopDegree:"",specialty:"",school:"",beginDate:"",workState:"",conversionTime:"",quitTime:"",beginContract:"",endContract:"",baseSalary:""},password:{oldpassword:"",newpassword:"",strPassword:""},formatDate:{birthday:"",beginDate:"",conversionTime:"",beginContract:"",endContract:"",quitTime:""},rewPunColumns:[{title:"奖惩日期",key:"date"},{title:"奖惩类型",key:"type"},{title:"奖惩分数",key:"point"},{title:"奖惩原因",key:"reason"},{title:"备注",key:"remark"}],departAssColumns:[{title:"考核名称",key:"name"},{title:"状态",key:"state"},{title:"创建时间",key:"createDate"},{title:"开始时间",key:"beginDate"},{title:"结束时间",key:"endDate"},{title:"是否提交",slot:"commit"},{title:"备注",key:"remarks"}],empRpLists:[],rewPunData:[],user:this.$store.state.user,newEmployeeRules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],idCard:[{required:!0,message:"身份证不能为空",trigger:"blur"},{type:"string",min:16,message:"身份证不能少于16位"},{type:"string",max:18,message:"身份证不能大于18位"}],politiclId:[{required:!0,type:"number",message:"请选择政治面貌",trigger:"change"}],wedlock:[{required:!0,message:"请选择婚姻状态",trigger:"change"}],nationId:[{required:!0,type:"number",message:"请选择民族",trigger:"change"}],birthday:[{required:!0,type:"date",message:"请选择出生日期",trigger:"change"}],phone:[{required:!0,message:"联系方式不能为空",trigger:"blur"}],titopDegree:[{required:!0,message:"请选择学历",trigger:"change"}],school:[{required:!0,message:"毕业院校不能为空",trigger:"blur"}],specialty:[{required:!0,message:"专业不能为空",trigger:"blur"}]},passwordRules:{oldpassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newpassword:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^[0-9a-zA-Z]+$/,message:"密码不能包含中文或特殊字符",trigger:"blur"}],strPassword:[{required:!0,validator:this.strPassword,trigger:"blur"}]}}},methods:{onRpPageSizeChange:function(e){this.rpLimit=e},rpPageChange:function(e){this.rpPage=e},departAssPageChange:function(e){this.departAssPage=e},getDropDownList:function(){var e=this;this.getRequest("/employee/init").then((function(t){e.dropDownList=t.data.data}))},initdata:function(){null!=this.user.eid&&(this.getPerEmp(),this.getEmpRp(),this.getDepartAss())},getPerEmp:function(){var e=this;this.getRequest("/employee/myfile").then((function(t){e.perEmpList=t.data.data,e.birthday=r()(e.perEmpList.birthday).format("YYYY-MM-DD")}))},getEmpRp:function(){var e=this;this.getRequest("/rp/empRp/"+this.$store.state.user.eid,{page:this.rpPage,limit:this.rpLimit}).then((function(t){e.empRpLists=t.data.data.list,e.rpTotal=t.data.data.total}))},getDepartAss:function(){var e=this;this.getRequest("/empAssessment/myAssessment",{limit:this.departAssLimit,page:this.departAssPage}).then((function(t){e.departAssLists=t.data.data.list,e.departAssTotal=t.data.data.total}))},beforeUpdate:function(){this.updateModal=!0,this.perEmpUpdateList.id=this.perEmpList.id,this.perEmpUpdateList.workId=""+this.perEmpList.workId,this.perEmpUpdateList.name=this.perEmpList.name,this.perEmpUpdateList.sex=this.perEmpList.sex,this.perEmpUpdateList.nationId=this.perEmpList.nationId,this.perEmpUpdateList.nationName=this.perEmpList.nationName,this.perEmpUpdateList.birthday=this.perEmpList.birthday,this.perEmpUpdateList.politiclId=this.perEmpList.politiclId,this.perEmpUpdateList.politiclName=this.perEmpList.politiclName,this.perEmpUpdateList.wedlock=this.perEmpList.wedlock,this.perEmpUpdateList.nativePlace=this.perEmpList.nativePlace,this.perEmpUpdateList.idCard=this.perEmpList.idCard,this.perEmpUpdateList.email=this.perEmpList.email,this.perEmpUpdateList.phone=this.perEmpList.phone,this.perEmpUpdateList.address=this.perEmpList.address,this.perEmpUpdateList.departmentId=this.perEmpList.departmentId,this.perEmpUpdateList.departmentName=this.perEmpList.departmentName,this.perEmpUpdateList.positionId=this.perEmpList.positionId,this.perEmpUpdateList.positionName=this.perEmpList.positionName,this.perEmpUpdateList.jobLevelId=this.perEmpList.jobLevelId,this.perEmpUpdateList.jobLevelName=this.perEmpList.jobLevelName,this.perEmpUpdateList.titopDegree=this.perEmpList.titopDegree,this.perEmpUpdateList.specialty=this.perEmpList.specialty,this.perEmpUpdateList.school=this.perEmpList.school,this.perEmpUpdateList.beginDate=this.perEmpList.beginDate,this.perEmpUpdateList.workState=this.perEmpList.workState,this.perEmpUpdateList.conversionTime=this.perEmpList.conversionTime,this.perEmpUpdateList.quitTime=this.perEmpList.quitTime,this.perEmpUpdateList.beginContract=this.perEmpList.beginContract,this.perEmpUpdateList.endContract=this.perEmpList.endContract,this.perEmpUpdateList.baseSalary=""+this.perEmpList.baseSalary,this.perEmpUpdateList.picture=this.perEmpList.picture},update:function(e){var t=this;this.$refs[e].validate((function(e){e?(console.log(t.perEmpUpdateList),t.putRequest("/employee/updateEmp",{id:t.perEmpUpdateList.id,name:t.perEmpUpdateList.name,nationId:t.perEmpUpdateList.nationId,sex:t.perEmpUpdateList.sex,wedlock:t.perEmpUpdateList.wedlock,idCard:t.perEmpUpdateList.idCard,birthday:t.perEmpUpdateList.birthday,politiclId:t.perEmpUpdateList.politiclId,phone:t.perEmpUpdateList.phone,nativePlace:t.perEmpUpdateList.nativePlace,email:t.perEmpUpdateList.email,address:t.perEmpUpdateList.address,titopDegree:t.perEmpUpdateList.titopDegree,school:t.perEmpUpdateList.school,specialty:t.perEmpUpdateList.specialty,picture:t.perEmpUpdateList.picture}).then((function(e){400!=e.data.code?(t.$Message.success(e.data.data),t.updateModal=!1,t.getPerEmp()):t.$Message.error(e.data.message)}))):t.$Message.error("必填项不能为空")}))},resetPsw:function(e){var t=this;this.$refs[e].validate((function(e){e&&(t.spinShow=!0,t.putRequest("/system/user/password",{id:t.$store.state.user.id,oldPassword:t.password.oldpassword,password:t.password.newpassword}).then((function(e){0==e.data.error&&200==e.data.code?(t.$Message.success(e.data.data),t.spinShow=!1,t.openResetPsw=!1):(t.$Message.error(e.data.message),t.spinShow=!1)})))}))},strPassword:function(e,t,a){return null==t||""==t?a(new Error("不能为空")):t!=this.password.newpassword?a(new Error("两次密码不一致!")):void a()},cancel:function(e){0==e&&this.$refs["password"].resetFields()},uploadSuccess:function(e,t){this.perEmpUpdateList.picture=e.data}},mounted:function(){this.getDropDownList(),this.initdata()},watch:{rpPage:"getEmpRp",departAssPage:"getDepartAss"}},i=l,n=(a("781c"),a("2877")),m=Object(n["a"])(i,o,s,!1,null,null,null);t["default"]=m.exports},"781c":function(e,t,a){"use strict";var o=a("c37e"),s=a.n(o);s.a},ba2b:function(e,t,a){},c37e:function(e,t,a){},cc4b:function(e,t,a){"use strict";var o=a("ba2b"),s=a.n(o);s.a}}]);
//# sourceMappingURL=chunk-e635a84a.cd0a540d.js.map