(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-91dd6886"],{"2a59":function(t,e,s){var a={"./Employee.vue":"0943","./PersonalFile.vue":"3415"};function p(t){var e=r(t);return s(e)}function r(t){if(!s.o(a,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return a[t]}p.keys=function(){return Object.keys(a)},p.resolve=r,t.exports=p,p.id="2a59"},3415:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[null==this.$store.state.user.eid?a("div",[a("h1",[t._v("你登录的是系统测试用户")])]):a("div",[a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("姓名：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.name))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("性别：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.sex))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("身份证号码：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.idCard))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("政治面貌：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.politiclName))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("籍贯：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.nativePlace))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("工号：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.workId))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("民族：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.nationName))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("婚姻状态：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.wedlock))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("出生日期：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.birthday))])])],1),a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("联系方式：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.phone))])])],1)],1),a("Col",{attrs:{span:"2"}},[""==t.perEmpList.picture||null==t.perEmpList.picture?a("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:s("1195")}}):a("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:t.perEmpList.picture}})])],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("邮箱：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.email))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("居住地址：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.address))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("学历：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.titopDegree))])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("毕业院校：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.school))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("专业：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.specialty))])])],1)],1)],1),a("Divider",{style:{margin:"0 0 24px 0"}}),a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("所属部门：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.departmentName))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("职位：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.positionName))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("职称：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.jobLevelName))])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("就职日期：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.beginDate))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("在职状态：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.workState))])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("转正日期：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.conversionTime))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("是否正式员工：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(null==t.perEmpList.conversionTime?"实习":"正式"))])])],1)],1)],1),a("Row",[a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("合同起始日期：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.beginContract))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("合同结束日期：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.endContract))])])],1)],1),a("Col",{attrs:{span:"4"}},[a("Row",{style:{margin:"0 0 15px 0"}},[a("Col",{attrs:{span:"9"}},[a("p",[t._v("离职日期：")])]),a("Col",{attrs:{span:"11"}},[a("p",[t._v(t._s(t.perEmpList.quitTime))])])],1)],1)],1),a("Row",{attrs:{gutter:16}},[a("Col",{attrs:{span:"1"}},[a("Button",{attrs:{type:"primary"},on:{click:t.beforeUpdate}},[t._v("修改资料")])],1),a("Col",{attrs:{span:"2"}},[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.passwordModal=!0}}},[t._v("修改密码")])],1)],1),a("br"),a("Row",[a("Tabs",{attrs:{type:"card"}},[a("TabPane",{attrs:{label:"奖惩资料"}},[a("Table",{attrs:{columns:t.rewPunColumns,data:t.empRpLists}}),a("Row",{style:{margin:"10px 0 0 0"},attrs:{type:"flex",justify:"center"}},[a("Col",[a("Page",{attrs:{total:t.rpTotal,"page-size":t.rpPageSize,"show-elevator":"","show-total":""},on:{"on-change":t.rpPageChange,"on-page-size-change":t.onRpPageSizeChange}})],1)],1)],1),a("TabPane",{attrs:{label:"考核资料"}},[a("Table",{ref:"selection",attrs:{border:"",columns:t.departAssColumns,data:t.departAssLists},scopedSlots:t._u([{key:"commit",fn:function(e){var s=e.row;return[s.commit?a("p",[t._v("已提交")]):a("p",[t._v("未提交")])]}}])}),a("Row",{style:{margin:"10px 0 0 0"},attrs:{type:"flex",justify:"center"}},[a("Page",{attrs:{total:t.departAssTotal,"page-size":t.departAssPageSize,"show-elevator":"","show-total":""},on:{"on-change":t.departAssPageChange}})],1)],1)],1)],1)],1),a("Modal",{attrs:{title:"编辑员工档案",width:"55%"},model:{value:t.updateModal,callback:function(e){t.updateModal=e},expression:"updateModal"}},[a("Form",{ref:"perEmpUpdateList",attrs:{model:t.perEmpUpdateList,rules:t.newEmployeeRules,"label-width":100}},[a("Row",[a("Col",{attrs:{span:"8"}},[a("Row",[a("FormItem",{attrs:{label:"姓名：",prop:"name"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.name,callback:function(e){t.$set(t.perEmpUpdateList,"name",e)},expression:"perEmpUpdateList.name"}})],1)],1),a("Row",[a("FormItem",{attrs:{label:"性别：",prop:"sex"}},[a("RadioGroup",{model:{value:t.perEmpUpdateList.sex,callback:function(e){t.$set(t.perEmpUpdateList,"sex",e)},expression:"perEmpUpdateList.sex"}},[a("Radio",{attrs:{label:"男"}},[t._v("男")]),a("Radio",{attrs:{label:"女"}},[t._v("女")])],1)],1)],1),a("Row",[a("FormItem",{attrs:{label:"身份证号：",prop:"idCard"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.idCard,callback:function(e){t.$set(t.perEmpUpdateList,"idCard",e)},expression:"perEmpUpdateList.idCard"}})],1)],1),a("Row",[a("FormItem",{attrs:{label:"政治面貌：",prop:"politiclId"}},[a("Select",{model:{value:t.perEmpUpdateList.politiclId,callback:function(e){t.$set(t.perEmpUpdateList,"politiclId",e)},expression:"perEmpUpdateList.politiclId"}},t._l(t.dropDownList.politicalStatusList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("Row",[a("FormItem",{attrs:{label:"民族：",prop:"nationId"}},[a("Select",{attrs:{clearable:""},model:{value:t.perEmpUpdateList.nationId,callback:function(e){t.$set(t.perEmpUpdateList,"nationId",e)},expression:"perEmpUpdateList.nationId"}},t._l(t.dropDownList.nationList,(function(t){return a("Option",{key:t.id,attrs:{value:t.id,label:t.name}})})),1)],1)],1),a("Row",[a("FormItem",{attrs:{label:"婚姻状态：",prop:"wedlock"}},[a("RadioGroup",{model:{value:t.perEmpUpdateList.wedlock,callback:function(e){t.$set(t.perEmpUpdateList,"wedlock",e)},expression:"perEmpUpdateList.wedlock"}},[a("Radio",{attrs:{label:"未婚"}},[t._v("未婚")]),a("Radio",{attrs:{label:"已婚"}},[t._v("已婚")]),a("Radio",{attrs:{label:"离异"}},[t._v("离异")])],1)],1)],1),a("Row",[a("FormItem",{attrs:{label:"出生日期：",prop:"birthday"}},[a("DatePicker",{attrs:{type:"date",placeholder:"选择出生日期"},model:{value:t.perEmpUpdateList.birthday,callback:function(e){t.$set(t.perEmpUpdateList,"birthday",e)},expression:"perEmpUpdateList.birthday"}})],1)],1),a("Row",[a("FormItem",{attrs:{label:"联系方式：",prop:"phone"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.phone,callback:function(e){t.$set(t.perEmpUpdateList,"phone",e)},expression:"perEmpUpdateList.phone"}})],1)],1)],1),a("Col",{attrs:{span:"4",offset:"2"}},[a("Row",[""==t.perEmpUpdateList.picture||null==t.perEmpUpdateList.picture?a("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:s("1195")}}):a("img",{style:{border:"0.2px solid black",width:"128px",height:"166px"},attrs:{src:t.perEmpUpdateList.picture}})]),a("Row",[a("Upload",{ref:"upload",staticStyle:{display:"inline-block",width:"128px"},attrs:{name:"picture","show-upload-list":!1,format:["jpg","jpeg","png"],"max-size":2048,"on-success":t.uploadSuccess,multiple:"",type:"drag",action:"http://111.230.141.100:8080/hrserver/employee/picture"}},[a("Button",{style:{width:"120px",border:"none"},attrs:{icon:"ios-cloud-upload-outline"}},[t._v("上传图片")])],1)],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"籍贯：",prop:"nativePlace"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.nativePlace,callback:function(e){t.$set(t.perEmpUpdateList,"nativePlace",e)},expression:"perEmpUpdateList.nativePlace"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"邮箱：",prop:"email"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.email,callback:function(e){t.$set(t.perEmpUpdateList,"email",e)},expression:"perEmpUpdateList.email"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"居住地址：",prop:"address"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.address,callback:function(e){t.$set(t.perEmpUpdateList,"address",e)},expression:"perEmpUpdateList.address"}})],1)],1)],1),a("Row",[a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"学历：",prop:"titopDegree"}},[a("Select",{model:{value:t.perEmpUpdateList.titopDegree,callback:function(e){t.$set(t.perEmpUpdateList,"titopDegree",e)},expression:"perEmpUpdateList.titopDegree"}},[a("Option",{attrs:{value:"小学"}},[t._v("小学")]),a("Option",{attrs:{value:"初中"}},[t._v("初中")]),a("Option",{attrs:{value:"高中"}},[t._v("高中")]),a("Option",{attrs:{value:"大专"}},[t._v("大专")]),a("Option",{attrs:{value:"本科"}},[t._v("本科")]),a("Option",{attrs:{value:"硕士"}},[t._v("硕士")]),a("Option",{attrs:{value:"博士"}},[t._v("博士")]),a("Option",{attrs:{value:"其他"}},[t._v("其他")])],1)],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"毕业院校：",prop:"school"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.school,callback:function(e){t.$set(t.perEmpUpdateList,"school",e)},expression:"perEmpUpdateList.school"}})],1)],1),a("Col",{attrs:{span:"8"}},[a("FormItem",{attrs:{label:"专业：",prop:"specialty"}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:t.perEmpUpdateList.specialty,callback:function(e){t.$set(t.perEmpUpdateList,"specialty",e)},expression:"perEmpUpdateList.specialty"}})],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.update("perEmpUpdateList")}}},[t._v("保存")])],1)],1),a("Modal",{attrs:{title:"修改密码"},on:{"on-visible-change":t.cancel},model:{value:t.passwordModal,callback:function(e){t.passwordModal=e},expression:"passwordModal"}},[a("Row",[a("Col",{attrs:{span:"22"}},[a("Form",{ref:"password",attrs:{model:t.password,rules:t.passwordRules,"label-width":80}},[a("FormItem",{attrs:{label:"旧密码:",prop:"oldpassword"}},[a("Input",{attrs:{type:"password",placeholder:"新密码"},model:{value:t.password.oldpassword,callback:function(e){t.$set(t.password,"oldpassword",e)},expression:"password.oldpassword"}})],1),a("FormItem",{attrs:{label:"新密码:",prop:"newpassword"}},[a("Input",{attrs:{type:"password",placeholder:"新密码"},model:{value:t.password.newpassword,callback:function(e){t.$set(t.password,"newpassword",e)},expression:"password.newpassword"}})],1),a("FormItem",{attrs:{label:"重复密码:",prop:"strPassword"}},[a("Input",{attrs:{type:"password",placeholder:"确认新密码"},model:{value:t.password.strPassword,callback:function(e){t.$set(t.password,"strPassword",e)},expression:"password.strPassword"}})],1)],1)],1)],1),a("div",{attrs:{slot:"footer"},slot:"footer"},[a("Button",{on:{click:function(e){t.openResetPsw=!1}}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){return t.resetPsw("password")}}},[t._v("保存")])],1)],1)],1)},p=[],r=(s("7f7f"),s("c1df")),i=s.n(r),o={name:"PerEmp",data:function(){return{updateModal:!1,passwordModal:!1,rpPage:1,rpTotal:100,rpLimit:4,rpPageSize:5,departAssPage:1,departAssTotal:100,departAssLimit:5,departAssPageSize:5,birthday:"",dropDownList:[],rpByIdLists:[],departAssLists:[],perEmpList:{},perEmpUpdateList:{id:"",workId:"",name:"",sex:"",nationId:"",nationName:"",birthday:"",politiclId:"",politiclName:"",picture:"",wedlock:"",nativePlace:"",idCard:"",email:"",phone:"",address:"",departmentId:"",departmentName:"",positionId:"",positionName:"",jobLevelId:"",jobLevelName:"",titopDegree:"",specialty:"",school:"",beginDate:"",workState:"",conversionTime:"",quitTime:"",beginContract:"",endContract:"",baseSalary:""},password:{oldpassword:"",newpassword:"",strPassword:""},formatDate:{birthday:"",beginDate:"",conversionTime:"",beginContract:"",endContract:"",quitTime:""},rewPunColumns:[{title:"奖惩日期",key:"date"},{title:"奖惩类型",key:"type"},{title:"奖惩分数",key:"point"},{title:"奖惩原因",key:"reason"},{title:"备注",key:"remark"}],departAssColumns:[{title:"考核名称",key:"name"},{title:"状态",key:"state"},{title:"创建时间",key:"createDate"},{title:"开始时间",key:"beginDate"},{title:"结束时间",key:"endDate"},{title:"是否提交",slot:"commit"},{title:"备注",key:"remarks"}],empRpLists:[],rewPunData:[],user:this.$store.state.user,newEmployeeRules:{name:[{required:!0,message:"姓名不能为空",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],idCard:[{required:!0,message:"身份证不能为空",trigger:"blur"},{type:"string",min:16,message:"身份证不能少于16位"},{type:"string",max:18,message:"身份证不能大于18位"}],politiclId:[{required:!0,type:"number",message:"请选择政治面貌",trigger:"change"}],wedlock:[{required:!0,message:"请选择婚姻状态",trigger:"change"}],nationId:[{required:!0,type:"number",message:"请选择民族",trigger:"change"}],birthday:[{required:!0,type:"date",message:"请选择出生日期",trigger:"change"}],phone:[{required:!0,message:"联系方式不能为空",trigger:"blur"}],titopDegree:[{required:!0,message:"请选择学历",trigger:"change"}],school:[{required:!0,message:"毕业院校不能为空",trigger:"blur"}],specialty:[{required:!0,message:"专业不能为空",trigger:"blur"}]},passwordRules:{oldpassword:[{required:!0,message:"旧密码不能为空",trigger:"blur"}],newpassword:[{required:!0,message:"密码不能为空",trigger:"blur"},{pattern:/^[0-9a-zA-Z]+$/,message:"密码不能包含中文或特殊字符",trigger:"blur"}],strPassword:[{required:!0,validator:this.strPassword,trigger:"blur"}]}}},methods:{onRpPageSizeChange:function(t){this.rpLimit=t},rpPageChange:function(t){this.rpPage=t},departAssPageChange:function(t){this.departAssPage=t},getDropDownList:function(){var t=this;this.getRequest("/employee/init").then((function(e){t.dropDownList=e.data.data}))},getPerEmp:function(){var t=this;this.getRequest("/employee/myfile").then((function(e){t.perEmpList=e.data.data,t.birthday=i()(t.perEmpList.birthday).format("YYYY-MM-DD")}))},getEmpRp:function(){var t=this;this.getRequest("/rp/empRp/"+this.$store.state.user.eid,{page:this.rpPage,limit:this.rpLimit}).then((function(e){t.empRpLists=e.data.data.list,t.rpTotal=e.data.data.total}))},getDepartAss:function(){var t=this;this.getRequest("/empAssessment/myAssessment",{limit:this.departAssLimit,page:this.departAssPage}).then((function(e){t.departAssLists=e.data.data.list,t.departAssTotal=e.data.data.total}))},beforeUpdate:function(){this.updateModal=!0,this.perEmpUpdateList.id=this.perEmpList.id,this.perEmpUpdateList.workId=""+this.perEmpList.workId,this.perEmpUpdateList.name=this.perEmpList.name,this.perEmpUpdateList.sex=this.perEmpList.sex,this.perEmpUpdateList.nationId=this.perEmpList.nationId,this.perEmpUpdateList.nationName=this.perEmpList.nationName,this.perEmpUpdateList.birthday=this.perEmpList.birthday,this.perEmpUpdateList.politiclId=this.perEmpList.politiclId,this.perEmpUpdateList.politiclName=this.perEmpList.politiclName,this.perEmpUpdateList.wedlock=this.perEmpList.wedlock,this.perEmpUpdateList.nativePlace=this.perEmpList.nativePlace,this.perEmpUpdateList.idCard=this.perEmpList.idCard,this.perEmpUpdateList.email=this.perEmpList.email,this.perEmpUpdateList.phone=this.perEmpList.phone,this.perEmpUpdateList.address=this.perEmpList.address,this.perEmpUpdateList.departmentId=this.perEmpList.departmentId,this.perEmpUpdateList.departmentName=this.perEmpList.departmentName,this.perEmpUpdateList.positionId=this.perEmpList.positionId,this.perEmpUpdateList.positionName=this.perEmpList.positionName,this.perEmpUpdateList.jobLevelId=this.perEmpList.jobLevelId,this.perEmpUpdateList.jobLevelName=this.perEmpList.jobLevelName,this.perEmpUpdateList.titopDegree=this.perEmpList.titopDegree,this.perEmpUpdateList.specialty=this.perEmpList.specialty,this.perEmpUpdateList.school=this.perEmpList.school,this.perEmpUpdateList.beginDate=this.perEmpList.beginDate,this.perEmpUpdateList.workState=this.perEmpList.workState,this.perEmpUpdateList.conversionTime=this.perEmpList.conversionTime,this.perEmpUpdateList.quitTime=this.perEmpList.quitTime,this.perEmpUpdateList.beginContract=this.perEmpList.beginContract,this.perEmpUpdateList.endContract=this.perEmpList.endContract,this.perEmpUpdateList.baseSalary=""+this.perEmpList.baseSalary,this.perEmpUpdateList.picture=this.perEmpList.picture},update:function(t){var e=this;this.$refs[t].validate((function(t){t?(console.log(e.perEmpUpdateList),e.putRequest("/employee/updateEmp",{id:e.perEmpUpdateList.id,name:e.perEmpUpdateList.name,nationId:e.perEmpUpdateList.nationId,sex:e.perEmpUpdateList.sex,wedlock:e.perEmpUpdateList.wedlock,idCard:e.perEmpUpdateList.idCard,birthday:e.perEmpUpdateList.birthday,politiclId:e.perEmpUpdateList.politiclId,phone:e.perEmpUpdateList.phone,nativePlace:e.perEmpUpdateList.nativePlace,email:e.perEmpUpdateList.email,address:e.perEmpUpdateList.address,titopDegree:e.perEmpUpdateList.titopDegree,school:e.perEmpUpdateList.school,specialty:e.perEmpUpdateList.specialty,picture:e.perEmpUpdateList.picture}).then((function(t){400!=t.data.code?(e.$Message.success(t.data.data),e.updateModal=!1,e.getPerEmp()):e.$Message.error(t.data.message)}))):e.$Message.error("必填项不能为空")}))},resetPsw:function(t){var e=this;this.$refs[t].validate((function(t){t&&(e.spinShow=!0,e.putRequest("/system/user/password",{id:e.$store.state.user.id,oldPassword:e.password.oldpassword,password:e.password.newpassword}).then((function(t){0==t.data.error&&200==t.data.code?(e.$Message.success(t.data.data),e.spinShow=!1,e.openResetPsw=!1):(e.$Message.error(t.data.message),e.spinShow=!1)})))}))},strPassword:function(t,e,s){return null==e||""==e?s(new Error("不能为空")):e!=this.password.newpassword?s(new Error("两次密码不一致!")):void s()},cancel:function(t){0==t&&this.$refs["password"].resetFields()},uploadSuccess:function(t,e){this.perEmpUpdateList.picture=t.data}},mounted:function(){this.getDropDownList(),this.getPerEmp(),this.getEmpRp(),this.getDepartAss()},watch:{rpPage:"getEmpRp",departAssPage:"getDepartAss"}},l=o,n=(s("781c"),s("2877")),d=Object(n["a"])(l,a,p,!1,null,null,null);e["default"]=d.exports},"781c":function(t,e,s){"use strict";var a=s("c37e"),p=s.n(a);p.a},c37e:function(t,e,s){}}]);
//# sourceMappingURL=chunk-91dd6886.39c3b611.js.map