(function(e){function t(t){for(var o,a,u=t[0],i=t[1],c=t[2],d=0,p=[];d<u.length;d++)a=u[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in i)Object.prototype.hasOwnProperty.call(i,o)&&(e[o]=i[o]);l&&l(t);while(p.length)p.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],o=!0,u=1;u<s.length;u++){var i=s[u];0!==r[i]&&(o=!1)}o&&(n.splice(t--,1),e=a(a.s=s[0]))}return e}var o={},r={app:0},n=[];function a(t){if(o[t])return o[t].exports;var s=o[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=o,a.d=function(e,t,s){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(a.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)a.d(s,o,function(t){return e[t]}.bind(null,o));return s},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],i=u.push.bind(u);u.push=t,u=u.slice();for(var c=0;c<u.length;c++)t(u[c]);var l=i;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var o=s("64a9"),r=s.n(o);r.a},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var o=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],a=(s("034f"),s("2877")),u={},i=Object(a["a"])(u,r,n,!1,null,null,null),c=i.exports,l=(s("7f7f"),s("8c4f")),d=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("Form",{ref:"formInline",staticClass:"login-container",attrs:{model:e.hr}},[s("h2",{staticClass:"login_title"},[e._v("人事系统登录")]),s("FormItem",{attrs:{prop:"user"}},[s("Input",{attrs:{type:"text",placeholder:"用户名"},model:{value:e.hr.username,callback:function(t){e.$set(e.hr,"username",t)},expression:"hr.username"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-person-outline"},slot:"prepend"})],1)],1),s("FormItem",{attrs:{prop:"password"}},[s("Input",{attrs:{type:"password",placeholder:"密码"},model:{value:e.hr.password,callback:function(t){e.$set(e.hr,"password",t)},expression:"hr.password"}},[s("Icon",{attrs:{slot:"prepend",type:"ios-lock-outline"},slot:"prepend"})],1)],1),s("FormItem",[s("Button",{attrs:{type:"primary"},on:{click:function(t){return e.Login()}}},[e._v("Signin")])],1)],1),e.spinShow?s("Spin",{attrs:{size:"large",fix:""}}):e._e()],1)},p=[],f={name:"login",data:function(){return{hr:{username:"",password:""},spinShow:!1}},methods:{Login:function(){var e=this;this.spinShow=!0,this.postRequest("/login",{username:this.hr.username,password:this.hr.password}).then((function(t){console.log(t),200==t.data.code&&0==t.data.error?(e.$store.commit("login",t.data.data.hr),e.$store.commit("token",t.data.data.token),e.$store.commit("sessionId",t.data.data.sessionId),e.$Message.success("登陆成功"),e.spinShow=!1,e.$router.push({name:"home"})):(e.$Message.error("登陆失败"),e.spinShow=!1)})).catch((function(t){e.spinShow=!1,e.$Message.error("登陆失败")}))}}},m=f,h=(s("d6db"),Object(a["a"])(m,d,p,!1,null,null,null)),g=h.exports,w=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("Layout",[s("Header",[s("Row",[s("Col",{attrs:{span:"4"}},[s("h1",{staticClass:"header_title"},[e._v("臭逼系统")])]),s("Col",{attrs:{span:"1",offset:"17"}},[s("h3",{staticClass:"header_userName"},[e._v(e._s(this.user.name))])]),s("Col",{attrs:{span:"1"}},[s("Dropdown",{staticStyle:{"margin-left":"20px"},attrs:{trigger:"click"}},[s("a",{attrs:{href:"javascript:void(0)"}},[s("Avatar",{attrs:{src:this.user.userface,size:"large"}})],1),s("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[s("DropdownItem",{nativeOn:{click:function(t){return e.Logout(t)}}},[e._v("退出系统")]),s("DropdownItem",[e._v(e._s(this.restate.token))]),s("DropdownItem",[e._v(e._s(this.restate.sessionId))])],1)],1)],1)],1)],1),s("Layout",[s("Sider",{attrs:{"hide-trigger":""}},[e._v("Sider")]),s("Content",[e._v("Content")])],1),s("Footer",[e._v("Footer")])],1)},v=[],I={name:"home",data:function(){return{menuList:[]}},methods:{Logout:function(){var e=this;this.getRequest("/logout",null).then((function(t){e.$store.commit("logout"),e.$router.push({name:"login"})})).catch((function(e){console.log(e)}))}},computed:{user:function(){return this.$store.state.user},restate:function(){return this.$store.state}}},S=I,y=(s("cccb"),Object(a["a"])(S,w,v,!1,null,null,null)),b=y.exports,_=s("2f62");o["default"].use(_["a"]);var k=new _["a"].Store({state:{user:{name:null==window.localStorage.getItem("user")?"未登录":JSON.parse(window.localStorage.getItem("user")).name,userface:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).userface,username:null==window.localStorage.getItem("user")?"":JSON.parse(window.localStorage.getItem("user")).username},token:null,sessionId:null},mutations:{login:function(e,t){e.user=t,window.localStorage.setItem("user",JSON.stringify(t))},token:function(e,t){e.token=t,window.localStorage.setItem("token",t)},sessionId:function(e,t){e.sessionId=t,window.localStorage.setItem("sessionId",t)},logout:function(e){window.localStorage.removeItem("user"),window.localStorage.removeItem("token"),window.localStorage.removeItem("sessionId"),e.user=[],e.token="",e.sessionId=""}},actions:{}});o["default"].use(l["a"]);var O=new l["a"]({routes:[{path:"/",name:"login",component:g},{path:"/home",name:"home",component:b,meta:{requireAuth:!0}}]});O.beforeEach((function(e,t,s){e.meta.requireAuth&&"未登录"==k.state.user.name?s({path:"/",query:{redirect:e.fullPath}}):s()}));var $=O,M=s("e069"),x=s.n(M),j=(s("dcad"),s("a7fe")),q=s.n(j),C=s("fc8e"),P=s.n(C),L=s("6574"),R=s.n(L),F=s("bc3a"),J=s.n(F);J.a.interceptors.request.use((function(e){return e}),(function(e){M["Message"].error({message:"请求超时!"})})),J.a.interceptors.response.use((function(e){if(!e.status||200!=e.status||500!=e.data.status)return e.data.msg&&M["Message"].success({message:e.data.message}),e;M["Message"].error({message:e.data.message})}),(function(e){504==e.response.status||404==e.response.status?M["Message"].error({message:"服务器被吃了⊙﹏⊙∥"}):403==e.response.status?M["Message"].error({message:"权限不足,请联系管理员!"}):401==e.response.status?M["Message"].error({message:e.response.data.message}):e.response.data.msg?M["Message"].error({message:e.response.data.message}):M["Message"].error({message:"未知错误!"})}));var D="http://localhost:8080/hrserver",N=function(e,t){return J()({method:"post",url:"".concat(D).concat(e),data:t,headers:{token:k.state.token,sessionId:k.state.sessionId}})},E=function(e,t){return J()({method:"put",url:"".concat(D).concat(e),data:t,headers:{token:k.state.token,sessionId:k.state.sessionId}})},A=function(e){return J()({method:"delete",url:"".concat(D).concat(e),headers:{token:k.state.token,sessionId:k.state.sessionId}})},T=function(e,t){return J()({method:"get",url:"".concat(D).concat(e),data:t,headers:{token:k.state.token,sessionId:k.state.sessionId}})};o["default"].prototype.getRequest=T,o["default"].prototype.deleteRequest=A,o["default"].prototype.putRequest=E,o["default"].prototype.postRequest=N,o["default"].use(l["a"]),o["default"].use(x.a),o["default"].use(q.a,P.a),o["default"].use(R.a),o["default"].config.productionTip=!1,new o["default"]({router:$,store:k,render:function(e){return e(c)}}).$mount("#app")},"64a9":function(e,t,s){},a9e7:function(e,t,s){},cccb:function(e,t,s){"use strict";var o=s("d563"),r=s.n(o);r.a},d563:function(e,t,s){},d6db:function(e,t,s){"use strict";var o=s("a9e7"),r=s.n(o);r.a}});
//# sourceMappingURL=app.4919ec6e.js.map